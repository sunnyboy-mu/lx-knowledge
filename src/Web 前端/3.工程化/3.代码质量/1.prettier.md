---
title: Prettier
createTime: 2025/12/19 20:29:55
permalink: /web/engineering/oxcldb5b/
---

## 1ã€Prettier æ¦‚è¿°

- å®˜ç½‘ï¼š[https://prettier.io/](https://prettier.io/)
- ä¸­æ–‡ç½‘ï¼š[https://prettier.nodejs.cn/](https://prettier.nodejs.cn/)

### 1.1ã€ä»€ä¹ˆæ˜¯ Prettier

- ğŸ¨ **æœ‰æ€åº¦çš„ä»£ç æ ¼å¼åŒ–å™¨**
- ğŸŒ æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€
- ğŸ”Œ ä¸ä¸»æµç¼–è¾‘å™¨æ— ç¼é›†æˆ
- âš™ï¸ æç®€é…ç½®é€‰é¡¹

### 1.2ã€ä¸ºä»€ä¹ˆä½¿ç”¨ Prettier

- âš¡ **ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç **
- ğŸ‘¥ æ¶ˆé™¤ä»£ç å®¡æŸ¥ä¸­çš„é£æ ¼äº‰è®®
- â±ï¸ æ˜¾è‘—èŠ‚çœå¼€å‘æ—¶é—´å’Œç²¾åŠ›

### 1.3ã€Prettier å…³å¿ƒçš„æ˜¯ä»€ä¹ˆ

**æ ¼å¼åŒ–é‡ç‚¹**ï¼šæ­£ç¡®æ€§ã€å­—ç¬¦ä¸²å¤„ç†ã€ç©ºè¡Œç®¡ç†ã€å¤šè¡Œå¯¹è±¡ã€è£…é¥°å™¨ã€æ¨¡æ¿å­—é¢é‡ã€åˆ†å·ä½¿ç”¨ã€æ‰“å°å®½åº¦ã€JSX è¯­æ³•ã€æ³¨é‡Šå¤„ç†

> ğŸ’¡ Prettier ä»…è´Ÿè´£ä»£ç æ ¼å¼åŒ–ï¼Œä¸æ”¹å˜ä»£ç é€»è¾‘ï¼Œä»¥æ­¤ä¿æŒå·¥å…·èŒè´£çš„çº¯ç²¹æ€§

## 2ã€ä½¿ç”¨æŒ‡å— ğŸš€

### 2.1ã€å®‰è£… prettier æ’ä»¶

```bash
npm install -D prettier
```

### 2.2ã€å®‰è£… VS Code æ’ä»¶

- **æ’ä»¶åç§°**ï¼š`Prettier - Code formatter`
- ğŸ”„ **è¿ç§»è¯´æ˜**ï¼šæ­£ä» `esbenp.prettier-vscode` è¿ç§»è‡³ `prettier.prettier-vscode`
- âœ… **æ¨è**ï¼šåœ¨æ’ä»¶å¸‚åœºæœç´¢ `prettier.prettier-vscode` å®‰è£…
- âš ï¸ **æ³¨æ„**ï¼šå½“å‰ä»ä½¿ç”¨ `esbenp.prettier-vscode`ï¼Œæœªæ¥å°†å¼ƒç”¨

### 2.3ã€æ¨è Vs Code é…ç½®

ä½¿ç”¨ç”¨æˆ·é…ç½®æˆ–å·¥ä½œåŒºé…ç½®ï¼ˆ`.vscode\settings.json`ï¼‰éƒ½å¯ä»¥

| é…ç½®é¡¹ | åŠŸèƒ½è¯´æ˜ | æ¨èå€¼ |
|--------|----------|--------|
| `editor.formatOnSave` | ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ– | `true` |
| `files.autoSave` | ç¼–è¾‘å™¨å¤±ç„¦æ—¶è‡ªåŠ¨ä¿å­˜ | `"onFocusChange"` |
| `editor.defaultFormatter` | è®¾ç½®é»˜è®¤æ ¼å¼åŒ–ç¨‹åº | `"esbenp.prettier-vscode"` |

```json
{
  "editor.formatOnSave": true,
  "files.autoSave": "onFocusChange",
  "editor.defaultFormatter": "esbenp.prettier-vscode"
}
```

### 2.4ã€é…ç½® npm è„šæœ¬

```json
"format": "prettier --write src/**/*.{js,ts,vue,jsx,tsx}"
```

> ğŸ“ **æ³¨**ï¼š`src/**/*.{js,ts,vue,jsx,tsx}` æŒ‡å®šæ ¼å¼åŒ–èŒƒå›´ï¼Œå¯æ ¹æ®éœ€è¦è°ƒæ•´æˆ–çœç•¥

è¿è¡Œ `npm run format` å³å¯æ ¼å¼åŒ–é¡¹ç›®æ–‡ä»¶

## 3ã€é…ç½®æ¸…å•

### 3.1ã€é…ç½®æ–‡ä»¶

æ­¤å¤„ä»…åˆ—ä¸¾ä¸ªäººå–œå¥½çš„æ–¹å¼é…ç½® Prettierï¼ˆæŒ‰ä¼˜å…ˆé¡ºåºï¼‰ï¼š

1. `package.json`æ–‡ä»¶ä¸­çš„`prettier`é”®
2. ä»¥`JSON`ç¼–å†™çš„`.prettierrc`æ–‡ä»¶
3. ä½¿ç”¨`export default`å¯¼å‡ºå¯¹è±¡çš„`prettier.config.js`æˆ–`prettier.config.mjs`
4. ä½¿ç”¨`module.exports`å¯¼å‡ºå¯¹è±¡çš„`prettier.config.cjs`

---

**ğŸ’¡ è¿›é˜¶æŠ€å·§ï¼šä½¿ç”¨å¯å…±äº«é…ç½®**

å®‰è£…å·²å‘å¸ƒçš„é…ç½®`npm install -D @xxxx/prettier-config`

ç„¶åï¼Œä½ å¯ä»¥åœ¨`package.json`ä¸­å¼•ç”¨å®ƒï¼Œ`"prettier": "@xxxx/prettier-config"`

**æ‰©å±•å¯å…±äº«é…ç½®ç¤ºä¾‹**

```js
import xxxxPrettierConfig from "@xxxx/prettier-config";

/**
 * @type {import("prettier").Config}
 */
const config = {
  ...xxxxPrettierConfig,
  semi: false,
};

export default config;
```

### 3.2ã€å¿½ç•¥æ–‡ä»¶

ä½¿ç”¨`.prettierignore`å¿½ç•¥ï¼ˆå³ä¸é‡æ–°æ ¼å¼åŒ–ï¼‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹

```bash
# Ignore artifacts:
build
coverage

# Ignore all HTML files:
**/*.html
```

### 3.3ã€å¸¸ç”¨é€‰é¡¹

| é€‰é¡¹ | è¯´æ˜ | ç±»å‹ |
|------|------|------|
| `printWidth` | è¡Œæœ€å¤§å®½åº¦ | number |
| `tabWidth` | ç¼©è¿›ç©ºæ ¼æ•° | number |
| `useTabs` | ä½¿ç”¨åˆ¶è¡¨ç¬¦ç¼©è¿› | boolean |
| `semi` | è¯­å¥æœ«å°¾åˆ†å· | boolean |
| `singleQuote` | ä½¿ç”¨å•å¼•å· | boolean |
| `arrowParens` | ç®­å¤´å‡½æ•°å‚æ•°æ‹¬å· | "avoid"ï½œ"always" |

ğŸ“– **å®Œæ•´é€‰é¡¹å‚è€ƒ**ï¼š[https://prettier.nodejs.cn/docs/options](https://prettier.nodejs.cn/docs/options)

---

**âœ¨ æ¨èé…ç½®æ–¹æ¡ˆ**

```json
{
  "semi": false,
  "singleQuote": true,
  "arrowParens": "avoid"
}
```

## 4ã€æ€»ç»“ ğŸ¯
Prettier é€šè¿‡å¼ºåˆ¶ç»Ÿä¸€çš„ä»£ç é£æ ¼ï¼Œæ˜¾è‘—æå‡å›¢é˜Ÿåä½œæ•ˆç‡å’Œä»£ç è´¨é‡ã€‚å…¶"æœ‰æ€åº¦"çš„è®¾è®¡ç†å¿µå‡å°‘äº†é…ç½®è´Ÿæ‹…ï¼Œè®©å¼€å‘è€…æ›´ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘è€Œéä»£ç æ ¼å¼äº‰è®ºã€‚

**ä½¿ç”¨æµç¨‹**ï¼šå®‰è£… â†’ é…ç½® â†’ è‡ªåŠ¨åŒ–æ ¼å¼åŒ– â†’ äº«å—æ•´æ´ä»£ç 

**æ ¸å¿ƒä»·å€¼**ï¼š
- âœ… æ¶ˆé™¤ä»£ç é£æ ¼äº‰è®®
- âœ… æå‡å¼€å‘æ•ˆç‡
- âœ… ä¿æŒä»£ç ä¸€è‡´æ€§
- âœ… å‡å°‘å®¡é˜…æ—¶é—´æˆæœ¬

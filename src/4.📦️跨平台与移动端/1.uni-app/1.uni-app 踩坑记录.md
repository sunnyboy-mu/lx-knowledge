---
title: uni-app 踩坑记录
createTime: 2025/11/13 21:20:11
permalink: /cross-platform/xwnvrxjz/
---

## 补全 rich-text 中可替换元素的 src 路径

```javascript
let content =
  '<img src="download.do?url=xxx.jpg" title="xxx.jpg" alt="xxx.jpg"/>';

const baseURL = "https://www.baidu.com";

context = context.replace(/src=(["'])(.*?)\1/g, `src=$1${baseURL}/$2$1`);
```

## 限制 rich-text 中可替换元素的宽度

```javascript
let content =
  '<img src="download.do?url=xxx.jpg" title="xxx.jpg" alt="xxx.jpg"/>';

// 图片
context = context.replace(/<img/gi, '<img style="max-width:100%;"');

// 视频
context = context.replace(/<video/gi, '<video style="max-width:100%;"');
```
